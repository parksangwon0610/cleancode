# Clean Code #2 함수

## 작게 만들어라!

함수를 만드는 첫번째 규칙은 작게 만들기다

일반적으로 하나의 함수는 한 화면에서 볼 수 있어야한다. 

가로, 세로 모두 해당된다.

작을수록 기능이 명백해진다.

가능한 몇줄이 되어야한다.

#### 블록 들여쓰기

일반적으로 if나 while 등 에서 사용되는 기능은 모두 함수로 하는것이 좋다.

대게 이곳에서 함수를 호출할 것이다.

블록안에서 호출하는 함수를 적절히 짓는다면, 코드를 이해하기 쉬워진다

이 말은 중첩 구조가 생길만큼 함수가 커져서는 안된다.

들여쓰기 수준은 1,2단내에서 해결한다

ㄴㄴ



## 한가지만 해라!

*함수는 한 가지를 해야한다. 그 한 가지를 잘 해야한다. 그 한 가지만을 해야한다.*



## 함수당 추상화 수준은 하나로!

함수가 확실히 '한 가지'만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다. 

**추상화는 직관적으로 기능을 알 수 있는 것을 구현한 것. printf 의 내부 코드는 모르지만 printf 를 사용하면 출력을 해준다는 것을 알기 때문에 사용하는 것.** 

한 함수 내 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. 특정 표현이 근본 개념인지 아니면 세부사항인지 구분하기 어려운 탓이다. 

#### 위에서 아래로 코드읽기 내려가기 규칙

코드는 위에서 아래로 이야기 처럼 읽혀야 좋다. 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다.





## 서술적인 이름을 사용해라!

좋은 이름이 주는 가치는 아무리 강조해도 지나치지 않다. 함수가 작고 단순할수록 서술적인 이름을 고르기도 쉬워진다.

서술적인 이름은 설계가 뚜렷해지므로 개발자에게도 코드를 개선하기 쉬워진다. 

이름은 일관성이 있어야한다. includeSetupAndTeardownPage, includeSetupPages, includeSuiteSetupPage 는 좋은 예다.



## 함수인수

함수의 이상적인 인수 개수는 0개다. (무항)

#### 동사와 키워드

함수의 의도나 인수의 순서와 의도를 제대로 표현하려면 좋은 함수 이름이 필수.

단항 함수는 함수-인수가 동-명사 쌍을 이뤄야 한다.

write(name), writeField(name)

함수이름에 키워드를 추가하는 형식 

assertExpectedEqualsActual(expected, actual);



## 명령과 조회를 분리해라!

함수는 수행하거나 답하거나 둘 중 하나만 해야한다.

객체 상태를 변경하거나 객체 정보를 반환하거나.

if(set(a, b)) -> set이 설정되어있는지 확인하는 것인지 , 설정하는 코드인지 애매하다.



## 오류 코드보다 예외를 사용하라!

명령 함수에서 오류코드를 반환하는 방식은 명령/조회 분리 규칙을 위반한다. 

코드 속 오류 코드보다 try-catch를 사용하여 원래 코드에서 분리해라

```java
try{
	deletePage(page);
	registry.deleteReference(page.name)
} catch(Exception e){
  logger.error(e.getMessage())
}
```



Try/catch 도 별도의 함수로 뽑는것이 좋다.

try/catch 의 기능이 있다면 try로 시작해 catch/finally 로 끝나야한다.



## 반복하지 마라!

객체 지향 프로그래밍은 코드를 부모클래스로 몰아 중복을 없앤다. 구조적 프로그래밍, AOP, COP 모두 중복 제거 전략이다.



## 구조적 프로그래밍

다익스트라의 구조적 프로그래밍 원칙은 모든 함수와 함수내 모든 블록에 입구와 출구가 하나만 존재해야 한다고 말함

즉 함수는 return 이 하나여야한다.

Goto 는 절대 사용 금지

루프안에서 break, continue 는 사용을 지양해라

함수가 클때 매우 유익하다



## 함수를 어떻게 짜죠?

점차적으로 줄이고, 자르고, 떼낸다.

